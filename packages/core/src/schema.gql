# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type PaginationResult {
  currentPage: Int!
  totalPages: Int!
}

type Role {
  id: Int!
  createdAt: DateTime!
  updatedAt: DateTime!
  name: String!
  permissions: [Permission!]!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

enum Permission {
  CreateUser
  ReadUser
  UpdateUser
  DeleteUser
  CreateRole
  ReadRole
  UpdateRole
  DeleteRole
  CreateProduct
  ReadProduct
  UpdateProduct
  DeleteProduct
  CreateCategory
  ReadCategory
  UpdateCategory
  DeleteCategory
  CreateAttribute
  ReadAttribute
  UpdateAttribute
  DeleteAttribute
}

type User {
  id: Int!
  createdAt: DateTime!
  updatedAt: DateTime!
  deletedAt: DateTime
  firstname: String!
  lastname: String!
  email: String!
  password: String!
  role: Role!
}

type ValidationError {
  path: String!
  messages: [String!]!
}

type UserListResponse {
  items: [User!]!
  totalItems: Int!
  pagination: PaginationResult!
}

type RoleListResponse {
  items: [Role!]!
  totalItems: Int!
  pagination: PaginationResult!
}

type Attribute {
  id: Int!
  name: String!
  values: [AttributeValue!]!
}

type AttributeValue {
  id: Int!
  value: String!
}

type Category {
  id: Int!
  createdAt: DateTime!
  updatedAt: DateTime!
  deletedAt: DateTime
  name: String!
  slug: String!
  active: Boolean!
  parent: Category
}

type Product {
  id: Int!
  createdAt: DateTime!
  updatedAt: DateTime!
  deletedAt: DateTime
  name: String!
  slug: String!
  description: String
  price: Int!
  attributes: [Attribute!]!
}

type ProductListResponse {
  items: [Product!]!
  totalItems: Int!
  pagination: PaginationResult!
}

type CategoryListResponse {
  items: [Category!]!
  totalItems: Int!
  pagination: PaginationResult!
}

type CategoryTreeResponse {
  id: Int!
  createdAt: DateTime!
  updatedAt: DateTime!
  deletedAt: DateTime
  name: String!
  slug: String!
  active: Boolean!
  parent: Category
  children: [CategoryTreeResponse!]!
}

type Query {
  attribute(id: Int!): AttributeResponse!
  attributes: [Attribute!]!
  categoriesTree(id: Int): [CategoryTreeResponse!]!
  category(id: Int!): CategoryResponse!
  categories(filter: ExtendedCategoryFilterOptions, sort: CategorySortOptions, page: Int!, limit: Int!): CategoryListResponse!
  product(id: Int!): ProductResponse!
  products(filter: ExtendedProductFilterOptions, sort: ProductSortOptions, page: Int!, limit: Int!): ProductListResponse!
  user(id: Int!): UserResponse!
  users(filter: ExtendedUserFilterOptions, sort: UserSortOptions, page: Int!, limit: Int!): UserListResponse!
  userProfile: User
  roles(filter: ExtendedRoleFilterOptions, sort: RoleSortOptions, page: Int!, limit: Int!): RoleListResponse!
  role(id: Int!): RoleResponse!
}

union AttributeResponse = Attribute | NotFoundError

type NotFoundError {
  message: String!
  errorCode: String!
}

union CategoryResponse = Category | NotFoundError

input ExtendedCategoryFilterOptions {
  id: NumberOperators
  updatedAt: DateOperators
  createdAt: DateOperators
  name: StringOperators
  _and: [CategoryFilterOptions!]
  _or: [CategoryFilterOptions!]
}

input NumberOperators {
  _gt: Float
  _lt: Float
  _eq: Float
  _in: [Float!]
  _nin: [Float!]
}

input DateOperators {
  _gte: DateTime
  _lte: DateTime
}

input StringOperators {
  _ilike: String
  _eq: String
}

input CategoryFilterOptions {
  id: NumberOperators
  updatedAt: DateOperators
  createdAt: DateOperators
  name: StringOperators
}

input CategorySortOptions {
  id: SortOrder
  updatedAt: SortOrder
  createdAt: SortOrder
}

enum SortOrder {
  ASC
  DESC
}

union ProductResponse = Product | NotFoundError

input ExtendedProductFilterOptions {
  id: NumberOperators
  updatedAt: DateOperators
  createdAt: DateOperators
  name: StringOperators
  description: StringOperators
  price: NumberOperators
  deletedAt: DateOperators
  _and: [ProductFilterOptions!]
  _or: [ProductFilterOptions!]
}

input ProductFilterOptions {
  id: NumberOperators
  updatedAt: DateOperators
  createdAt: DateOperators
  name: StringOperators
  description: StringOperators
  price: NumberOperators
  deletedAt: DateOperators
}

input ProductSortOptions {
  id: SortOrder
  updatedAt: SortOrder
  createdAt: SortOrder
}

union UserResponse = User | NotFoundError

input ExtendedUserFilterOptions {
  id: NumberOperators
  updatedAt: DateOperators
  createdAt: DateOperators
  email: StringOperators
  firstname: StringOperators
  lastname: StringOperators
  deletedAt: DateOperators
  _and: [UserFilterOptions!]
  _or: [UserFilterOptions!]
}

input UserFilterOptions {
  id: NumberOperators
  updatedAt: DateOperators
  createdAt: DateOperators
  email: StringOperators
  firstname: StringOperators
  lastname: StringOperators
  deletedAt: DateOperators
}

input UserSortOptions {
  id: SortOrder
  updatedAt: SortOrder
  createdAt: SortOrder
  email: SortOrder
}

input ExtendedRoleFilterOptions {
  id: NumberOperators
  updatedAt: DateOperators
  createdAt: DateOperators
  name: StringOperators
  _and: [RoleFilterOptions!]
  _or: [RoleFilterOptions!]
}

input RoleFilterOptions {
  id: NumberOperators
  updatedAt: DateOperators
  createdAt: DateOperators
  name: StringOperators
}

input RoleSortOptions {
  id: SortOrder
  updatedAt: SortOrder
  createdAt: SortOrder
}

union RoleResponse = Role | NotFoundError

type Mutation {
  createAttributeValue(input: NewAttributeValueInput!): CreateAttributeValueResponse!
  updateAttributeValue(input: UpdateAttributeValueInput!, id: Int!): UpdateAttributeValueResponse!
  createAttribute(input: NewAttributeInput!): CreateAttributeResponse!
  updateAttribute(input: UpdateAttributeInput!, id: Int!): UpdateAttributeResponse!
  isCategorySlugAvailable(slug: String!): Boolean!
  getCategorySlug(name: String!): String!
  createCategory(input: NewCategoryInput!): CreateCategoryResponse!
  updateCategory(input: UpdateCategoryInput!, id: Int!): UpdateCategoryResponse!
  isProductSlugAvailable(slug: String!): Boolean!
  getProductSlug(name: String!): String!
  createProduct(input: NewProductInput!): CreateProductResponse!
  updateProduct(input: UpdateProductInput!, id: Int!): UpdateProductResponse!
  createUser(input: NewUserInput!): CreateUserResponse!
  updateUser(input: UpdateUserInput!, id: Int!): UpdateUserResponse!
  userLogin(input: NativeAuthInput!): User
  userLogout: Boolean!
  createRole(input: NewRoleInput!): CreateRoleResponse!
  updateRole(input: UpdateRoleInput!, id: Int!): UpdateRoleResponse!
}

union CreateAttributeValueResponse = AttributeValue | InputValidationError

type InputValidationError {
  message: String!
  errorCode: String!
  errors: [ValidationError!]!
}

input NewAttributeValueInput {
  attributeId: Int!
  value: String!
}

union UpdateAttributeValueResponse = AttributeValue | InputValidationError | NotFoundError

input UpdateAttributeValueInput {
  attributeId: Int
  value: String
}

union CreateAttributeResponse = Attribute | InputValidationError

input NewAttributeInput {
  name: String!
}

union UpdateAttributeResponse = Attribute | InputValidationError | NotFoundError

input UpdateAttributeInput {
  name: String
}

union CreateCategoryResponse = Category | InputValidationError

input NewCategoryInput {
  name: String!
  slug: String
  parentId: Int
}

union UpdateCategoryResponse = Category | InputValidationError | NotFoundError

input UpdateCategoryInput {
  name: String
  slug: String
  parentId: Int
}

union CreateProductResponse = Product | InputValidationError

input NewProductInput {
  name: String!
  description: String
  price: Int!
  slug: String
  categoryId: Float!
  attributesValuesIds: [Int!]!
}

union UpdateProductResponse = Product | InputValidationError | NotFoundError

input UpdateProductInput {
  name: String
  description: String
  price: Int
  slug: String
  categoryId: Float
  attributesValuesIds: [Int!]
}

union CreateUserResponse = User | InputValidationError

input NewUserInput {
  firstname: String!
  lastname: String!
  email: String!
  password: String!
  roleId: Int!
}

union UpdateUserResponse = User | InputValidationError | NotFoundError

input UpdateUserInput {
  firstname: String
  lastname: String
  email: String
  password: String
  roleId: Int
}

input NativeAuthInput {
  email: String!
  password: String!
}

union CreateRoleResponse = Role | InputValidationError

input NewRoleInput {
  name: String!
  permissions: [Permission!]!
}

union UpdateRoleResponse = Role | InputValidationError | NotFoundError

input UpdateRoleInput {
  name: String
  permissions: [Permission!]
}
